1. Project Structure
repo_analyzer/
â”‚
â”œâ”€â”€ main.py                     # Entry point (CLI or API)
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ settings.py             # API keys, limits, flags
â”‚   â””â”€â”€ constants.py            # Ignore dirs, extensions, thresholds
â”‚
â”œâ”€â”€ github/
â”‚   â”œâ”€â”€ client.py               # GitHub API wrapper
â”‚   â”œâ”€â”€ repo_loader.py          # Repo tree + file fetch logic
â”‚   â””â”€â”€ filters.py              # Ignore rules, file filtering
â”‚
â”œâ”€â”€ analysis/
â”‚   â”œâ”€â”€ language_detector.py    # Detect languages per file
â”‚   â”œâ”€â”€ stack_detector.py       # Frameworks, DBs, infra detection
â”‚   â”œâ”€â”€ structure_analyzer.py   # Backend / frontend / config grouping
â”‚   â””â”€â”€ entrypoint_finder.py    # main.py, app.js, server.ts, etc.
â”‚
â”œâ”€â”€ llm/
â”‚   â”œâ”€â”€ client.py               # LLM API abstraction (Groq/Gemini)
â”‚   â”œâ”€â”€ prompts.py              # Prompt templates
â”‚   â”œâ”€â”€ file_summarizer.py      # File-level summaries
â”‚   â”œâ”€â”€ folder_summarizer.py    # Folder/module-level summaries
â”‚   â””â”€â”€ repo_summarizer.py      # Final repo overview
â”‚
â”œâ”€â”€ graph/
â”‚   â”œâ”€â”€ dependency_graph.py     # File-level dependency graph
â”‚   â”œâ”€â”€ flow_builder.py         # High-level execution flow
â”‚   â””â”€â”€ diagram_generator.py    # Mermaid diagram text
â”‚
â”œâ”€â”€ output/
â”‚   â”œâ”€â”€ formatter.py            # Markdown / JSON formatting
â”‚   â””â”€â”€ report_builder.py       # Final report assembly
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ logger.py               # Structured logging
â”‚   â”œâ”€â”€ cache.py                # Caching LLM responses
â”‚   â””â”€â”€ helpers.py              # Shared helpers
â”‚
â”œâ”€â”€ README.md
â””â”€â”€ requirements.txt

2ï¸âƒ£ GitHub Ingestion Layer
ğŸ“ github/client.py

Purpose

Wrap GitHub REST API

Handle auth, rate limits, retries

Responsibilities

Fetch repo metadata

Fetch repo tree (recursive)

Fetch file contents

ğŸ“ github/repo_loader.py

Purpose

Convert raw GitHub data into usable structures

Responsibilities

Load full file tree

Store file path, size, extension, content

Maintain folder hierarchy

ğŸ“ github/filters.py

Purpose

Reduce noise

Responsibilities

Ignore directories (node_modules, .git, dist)

Ignore binary files

Allow only relevant extensions

3ï¸âƒ£ Static Analysis Layer (No LLM)
ğŸ“ analysis/language_detector.py

Purpose

Detect languages used

Responsibilities

File extension â†’ language mapping

Repo-level language stats

ğŸ“ analysis/stack_detector.py

Purpose

Identify tech stack

Responsibilities

Detect frameworks:

FastAPI, Flask, Django

React, Next.js, Vue

Detect DBs:

Postgres, MongoDB

Detect infra:

Docker, GitHub Actions, Terraform

ğŸ“ analysis/structure_analyzer.py

Purpose

Classify repo structure

Responsibilities

Identify:

Frontend folders

Backend folders

Config / infra folders

Tag folders with roles

ğŸ“ analysis/entrypoint_finder.py

Purpose

Identify execution entry points

Responsibilities

Detect:

main.py, app.py

server.js, index.ts

Dockerfile CMD

Map how app starts

4ï¸âƒ£ LLM Layer (Summarization Only)
ğŸ“ llm/client.py

Purpose

Abstract LLM provider

Responsibilities

Switch between:

Groq

Gemini

Local model

Token + retry handling

ğŸ“ llm/prompts.py

Purpose

Centralized prompts

Contains

File summary prompt

Folder summary prompt

Repo overview prompt

Flow extraction prompt

ğŸ“ llm/file_summarizer.py

Purpose

Summarize individual files

Input

File content + metadata

Output

What the file does

Key responsibilities

Dependencies mentioned

ğŸ“ llm/folder_summarizer.py

Purpose

Summarize modules/folders

Input

Summaries of files in folder

Output

Module purpose

How it interacts with others

ğŸ“ llm/repo_summarizer.py

Purpose

Final repo explanation

Output

What the repo does

Overall architecture

High-level execution flow

5ï¸âƒ£ Graph & Flow Layer (Shallow, Not Deep)
ğŸ“ graph/dependency_graph.py

Purpose

Build file-level dependency graph

Responsibilities

Parse imports/includes

Create edges: file â†’ file

ğŸ“ graph/flow_builder.py

Purpose

High-level execution flow

Responsibilities

Entry point â†’ services â†’ DB / external APIs

Use static analysis + LLM hints

ğŸ“ graph/diagram_generator.py

Purpose

Convert flows into diagrams

Output

Mermaid graph text

No rendering, just text

6ï¸âƒ£ Output & Reporting
ğŸ“ output/formatter.py

Purpose

Output formatting

Formats

Markdown

JSON (for future UI)

ğŸ“ output/report_builder.py

Purpose

Assemble final report

Contains

Repo summary

Structure breakdown

Tech stack

Flow diagrams

Entry points

7ï¸âƒ£ Orchestration Layer
ğŸ“ main.py

Purpose

Glue everything together

Flow

Parse GitHub URL

Load repo

Run static analysis

Run LLM summaries

Build graphs

Generate report

8ï¸âƒ£ Config & Utils
ğŸ“ config/settings.py

LLM provider

Token limits

Max files per chunk

ğŸ“ config/constants.py

Ignored dirs

Supported languages

File size limits

ğŸ“ utils/cache.py

Cache file summaries

Cache folder summaries

ğŸ“ utils/logger.py

Debug-friendly logs

9ï¸âƒ£ Build Order (important)

Recommended implementation order

GitHub ingestion

File filtering

Language + stack detection

Folder classification

File summaries

Folder summaries

Repo summary

Flow diagrams

Final report